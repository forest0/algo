---
title: "UVa 11054"
date: 2020-11-14T19:21:33+08:00
draft: false
---

## 分析

工作量=酒量x距离

这里是**等价转换**的思路。
考虑最左边的村庄1，其需求为$a_1$，若
- $a_1 > 0$，表示该村庄需要买酒，
那么一定有$a_1$数量的酒从紧邻的村庄2运过来，需要工作量$abs(a_1) \times 1$，
问题转化为子问题，村庄2的需求量变为$a_1+a_2$
- $a_1 < 0$，表示该村庄需要卖酒，
那么一定有$a_1$数量的酒从村庄1运到紧邻的村庄2，需要工作量$abs(a_1) \times 1$，
问题转化为子问题，村庄2的需求量变为$a_1+a_2$
- $a_1 = 0$，不需要工作量，直接转化为子问题村庄2的需求量变为$a_1+a_2$

### 实例分析

```
问题        | 当前工作量
5 -4 1 -3 1 | 0
   1 1 -3 1 | 0+5
     2 -3 1 | 0+5+1
       -1 1 | 0+5+1+2
          0 | 0+5+1+2+1
```

## 实现

```cpp
// UVa 11054
#include <cstdio>
#include <cstdlib>

int main(int argc, char *argv[]) {
    int n;
    while (scanf("%d", &n) == 1 && n) {
        long long ans = 0, a, last = 0;
        while (n--) {
            scanf("%lld", &a);
            ans += abs(last);
            last += a;
        }
        printf("%lld\n", ans);
    }
    return 0;
}
```
